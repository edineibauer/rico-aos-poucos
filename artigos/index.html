<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Artigos e Analises - Textos educativos sobre investimentos e financas pessoais.">
  <title>Artigos e Analises - Rico aos Poucos</title>
  <link rel="stylesheet" href="../css/style.css">
  <style>
    .artigos-list {
      display: flex;
      flex-direction: column;
      gap: 16px;
    }
    .artigo-item {
      display: flex;
      gap: 20px;
      padding: 20px;
      background: var(--bg-card);
      border: 1px solid var(--border-color);
      border-radius: 12px;
      text-decoration: none;
      color: inherit;
      transition: all 0.3s ease;
    }
    .artigo-item:hover {
      border-color: var(--primary-light);
      transform: translateY(-2px);
      box-shadow: 0 8px 24px rgba(0,0,0,0.3);
    }
    .artigo-item.destaque {
      border-left: 3px solid var(--primary-light);
      background: linear-gradient(135deg, rgba(26, 95, 74, 0.1) 0%, var(--bg-card) 100%);
    }
    .artigo-date {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-width: 60px;
      padding: 12px;
      background: var(--bg-tertiary);
      border-radius: 8px;
    }
    .artigo-date .day {
      font-size: 1.5rem;
      font-weight: 700;
      color: var(--primary-light);
    }
    .artigo-date .month {
      font-size: 0.75rem;
      color: var(--text-muted);
      text-transform: uppercase;
    }
    .artigo-content {
      flex: 1;
    }
    .artigo-content h3 {
      margin: 8px 0;
      font-size: 1.1rem;
      color: var(--text-primary);
    }
    .artigo-content p {
      color: var(--text-secondary);
      font-size: 0.9rem;
      line-height: 1.5;
      margin-bottom: 12px;
    }
    .artigo-meta {
      display: flex;
      gap: 12px;
      align-items: center;
      flex-wrap: wrap;
    }
    .artigo-tags {
      display: flex;
      gap: 6px;
      flex-wrap: wrap;
    }
    .artigo-tags .tag {
      font-size: 0.7rem;
      padding: 3px 8px;
      background: var(--bg-tertiary);
      border-radius: 4px;
      color: var(--text-muted);
    }
    .tempo-leitura {
      font-size: 0.8rem;
      color: var(--text-muted);
    }
    .nivel-badge {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      padding: 4px 10px;
      border-radius: 12px;
      font-size: 0.75rem;
      font-weight: 600;
    }
    .nivel-badge.iniciante {
      background: rgba(63, 185, 80, 0.15);
      color: var(--bullish);
    }
    .nivel-badge.intermediario {
      background: rgba(240, 193, 75, 0.15);
      color: var(--neutral);
    }
    .nivel-badge.avancado {
      background: rgba(248, 81, 73, 0.15);
      color: var(--bearish);
    }
    .filter-btn {
      padding: 8px 16px;
      border-radius: 20px;
      font-size: 0.85rem;
    }
    .filter-btn.active {
      background: var(--primary);
      border-color: var(--primary);
      color: white;
    }
    .categorias-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      gap: 16px;
    }
    .categoria-card {
      text-align: center;
      padding: 24px 16px;
      background: var(--bg-card);
      border: 1px solid var(--border-color);
      border-radius: 12px;
      transition: all 0.3s ease;
    }
    .categoria-card:hover {
      border-color: var(--primary-light);
    }
    .categoria-card .icone {
      font-size: 2rem;
      margin-bottom: 12px;
    }
    .categoria-card h3 {
      font-size: 1rem;
      margin-bottom: 4px;
    }
    .categoria-card p {
      font-size: 0.8rem;
      color: var(--text-secondary);
      margin-bottom: 12px;
    }
    .categoria-card .count {
      font-size: 0.75rem;
      padding: 4px 12px;
      background: var(--bg-tertiary);
      border-radius: 12px;
      color: var(--text-muted);
    }
    .empty-state {
      text-align: center;
      padding: 60px 20px;
    }
    .empty-state .icone {
      font-size: 4rem;
      margin-bottom: 20px;
    }
    .loading {
      text-align: center;
      padding: 40px;
      color: var(--text-muted);
    }
    @media (max-width: 600px) {
      .artigo-item {
        flex-direction: column;
        gap: 12px;
      }
      .artigo-date {
        flex-direction: row;
        gap: 8px;
        width: fit-content;
      }
    }
  </style>
</head>
<body>
  <div class="page-container">

    <header class="page-header">
      <div class="container">
        <nav class="breadcrumb">
          <a href="../">Inicio</a>
          <span>/</span>
          <span>Artigos</span>
        </nav>
      </div>
    </header>

    <main class="container" style="padding: 24px 20px;">

      <div class="section-header" style="margin-bottom: 32px;">
        <h1>Artigos e Analises</h1>
        <p style="color: var(--text-secondary);">Textos educativos, analises aprofundadas e reflexoes sobre investimentos</p>
      </div>

      <!-- Filtros -->
      <section style="margin-bottom: 32px;">
        <h3 style="margin-bottom: 16px; font-size: 1rem;">Filtrar por Nivel</h3>
        <div style="display: flex; gap: 10px; flex-wrap: wrap;">
          <button class="btn btn-outline filter-btn active" data-filter="todos" onclick="filterArtigos('todos')">
            Todos
          </button>
          <button class="btn btn-outline filter-btn" data-filter="iniciante" onclick="filterArtigos('iniciante')">
            üéì Iniciante
          </button>
          <button class="btn btn-outline filter-btn" data-filter="intermediario" onclick="filterArtigos('intermediario')">
            üìä Intermediario
          </button>
          <button class="btn btn-outline filter-btn" data-filter="avancado" onclick="filterArtigos('avancado')">
            üöÄ Avancado
          </button>
        </div>
      </section>

      <!-- Lista de Artigos -->
      <section style="margin-bottom: 48px;">
        <h2 style="margin-bottom: 20px;">üìù Artigos Recentes</h2>
        <div class="artigos-list" id="artigos-container">
          <div class="loading">Carregando artigos...</div>
        </div>
      </section>

      <!-- Categorias -->
      <section>
        <h2 style="margin-bottom: 20px;">üìÅ Categorias</h2>
        <div class="categorias-grid" id="categorias-container">
          <div class="loading">Carregando categorias...</div>
        </div>
      </section>

    </main>

    <footer class="page-footer" style="margin-top: 48px;">
      <div class="container">
        <p class="footer-disclaimer">Rico aos Poucos ¬© 2026 - Conteudo educacional, nao e recomendacao de investimento</p>
      </div>
    </footer>

  </div>

  <script>
    // Dados globais
    let artigosData = null;
    let filtroAtual = 'todos';

    // Meses em portugues
    const meses = ['Jan', 'Fev', 'Mar', 'Abr', 'Mai', 'Jun', 'Jul', 'Ago', 'Set', 'Out', 'Nov', 'Dez'];

    // Niveis
    const niveis = {
      iniciante: { emoji: 'üéì', label: 'Iniciante' },
      intermediario: { emoji: 'üìä', label: 'Intermediario' },
      avancado: { emoji: 'üöÄ', label: 'Avancado' }
    };

    // Carregar dados do JSON
    async function carregarArtigos() {
      try {
        const response = await fetch('../data/artigos.json');
        if (!response.ok) throw new Error('Erro ao carregar artigos');
        artigosData = await response.json();
        renderizarArtigos();
        renderizarCategorias();
      } catch (error) {
        console.error('Erro:', error);
        document.getElementById('artigos-container').innerHTML = `
          <div class="empty-state">
            <div class="icone">‚ö†Ô∏è</div>
            <h3>Erro ao carregar artigos</h3>
            <p style="color: var(--text-secondary);">Tente recarregar a pagina.</p>
          </div>
        `;
      }
    }

    // Formatar data
    function formatarData(dataStr) {
      const data = new Date(dataStr);
      return {
        dia: data.getDate().toString().padStart(2, '0'),
        mes: meses[data.getMonth()]
      };
    }

    // Renderizar artigos
    function renderizarArtigos() {
      const container = document.getElementById('artigos-container');

      // Filtrar artigos
      let artigos = artigosData.artigos;
      if (filtroAtual !== 'todos') {
        artigos = artigos.filter(a => a.nivel === filtroAtual);
      }

      // Ordenar por data (mais recentes primeiro)
      artigos.sort((a, b) => new Date(b.dataPublicacao) - new Date(a.dataPublicacao));

      if (artigos.length === 0) {
        container.innerHTML = `
          <div class="empty-state">
            <div class="icone">üìö</div>
            <h3>Nenhum artigo encontrado</h3>
            <p style="color: var(--text-secondary);">
              ${filtroAtual === 'todos'
                ? 'Em breve, novos conteudos!'
                : 'Nao ha artigos neste nivel ainda.'}
            </p>
          </div>
        `;
        return;
      }

      container.innerHTML = artigos.map(artigo => {
        const data = formatarData(artigo.dataPublicacao);
        const nivel = niveis[artigo.nivel];
        const destaqueClass = artigo.destaque ? 'destaque' : '';

        return `
          <a href="${artigo.arquivo}" class="artigo-item ${destaqueClass}" data-nivel="${artigo.nivel}">
            <div class="artigo-date">
              <span class="day">${data.dia}</span>
              <span class="month">${data.mes}</span>
            </div>
            <div class="artigo-content">
              <span class="nivel-badge ${artigo.nivel}">${nivel.emoji} ${nivel.label}</span>
              <h3>${artigo.titulo}</h3>
              <p>${artigo.descricao}</p>
              <div class="artigo-meta">
                <span class="tempo-leitura">‚è±Ô∏è ${artigo.tempoLeitura} min</span>
                <div class="artigo-tags">
                  ${artigo.tags.map(tag => `<span class="tag">${tag}</span>`).join('')}
                </div>
              </div>
            </div>
          </a>
        `;
      }).join('');
    }

    // Renderizar categorias
    function renderizarCategorias() {
      const container = document.getElementById('categorias-container');
      const categorias = artigosData.categorias;

      // Contar artigos por categoria
      const contagem = {};
      artigosData.artigos.forEach(artigo => {
        contagem[artigo.categoria] = (contagem[artigo.categoria] || 0) + 1;
      });

      container.innerHTML = Object.values(categorias).map(cat => `
        <div class="categoria-card">
          <div class="icone">${cat.icone}</div>
          <h3>${cat.nome}</h3>
          <p>${cat.descricao}</p>
          <span class="count">${contagem[cat.id] || 0} artigo${(contagem[cat.id] || 0) !== 1 ? 's' : ''}</span>
        </div>
      `).join('');
    }

    // Filtrar artigos por nivel
    function filterArtigos(nivel) {
      filtroAtual = nivel;

      // Atualizar botoes
      document.querySelectorAll('.filter-btn').forEach(btn => {
        btn.classList.remove('active');
        if (btn.dataset.filter === nivel) {
          btn.classList.add('active');
        }
      });

      renderizarArtigos();
    }

    // Inicializar
    document.addEventListener('DOMContentLoaded', carregarArtigos);
  </script>
</body>
</html>
